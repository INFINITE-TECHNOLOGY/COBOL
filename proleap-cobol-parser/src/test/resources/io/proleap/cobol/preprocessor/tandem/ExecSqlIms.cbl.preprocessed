 Identification Division.
 Program-ID. ExecSqlIms.
 Procedure Division.
 
*>EXECSQLIMS EXEC SQLIMS
*>EXECSQLIMS DECLARE SOMECUR CURSOR FOR DYSQL
*>EXECSQLIMS END-EXEC }.
 
*>EXECSQLIMS EXEC SQLIMS
*>EXECSQLIMS OPEN SOMECUR
*>EXECSQLIMS END-EXEC }.
 
*>EXECSQLIMS EXEC SQLIMS
*>EXECSQLIMS FETCH SOMECUR INTO :SOMECOL1, :SOMECOL2
*>EXECSQLIMS END-EXEC }.
 
  IF SQLIMSCODE = 100
    PERFORM NO-DATA-FOUND
  ELSE
    PERFORM LOAD-DATA UNTIL SQLIMSCODE NOT EQUAL TO ZERO.
 
*>EXECSQLIMS EXEC SQLIMS
*>EXECSQLIMS CLOSE SOMECUR
*>EXECSQLIMS END-EXEC }.